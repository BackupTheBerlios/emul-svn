<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>emul: /prog/cpp/emul-1.0.8/src/emul.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">emul-1.0.8</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">src</a></div>
<h1>emul.h File Reference</h1>Header file for the emul library. <a href="#_details">More...</a>
<p>

<p>
This graph shows which files directly or indirectly include this file:<p><center><img src="emul_8h__dep__incl.png" border="0" usemap="#/prog/cpp/emul-1.0.8/src/emul.hdep_map" alt=""></center>
<map name="/prog/cpp/emul-1.0.8/src/emul.hdep_map">
<area href="emul_8c-source.html" shape="rect" coords="281,8,492,32" alt="">
<area href="emul__test_8c-source.html" shape="rect" coords="266,56,506,80" alt="">
<area href="sirfmon_8c-source.html" shape="rect" coords="274,104,498,128" alt="">
</map>

<p>
<a href="emul_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a5">NORMAL</a>&nbsp;&nbsp;&nbsp;0x0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_devtype function.  <a href="#a5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a6">EMATE</a>&nbsp;&nbsp;&nbsp;0x1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_devtype function.  <a href="#a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a7">CONTROL_DTR</a>&nbsp;&nbsp;&nbsp;0x20</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_linecontrol function.  <a href="#a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a8">CONTROL_RTS</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_linecontrol function.  <a href="#a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a9">CONTROL_RESET</a>&nbsp;&nbsp;&nbsp;0x08</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_linecontrol function.  <a href="#a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a10">CONTROL_DROP</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_linecontrol function.  <a href="#a10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a11">PAR_ODD</a>&nbsp;&nbsp;&nbsp;0x30</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with parameter parity of structure serconfig.  <a href="#a11"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a12">PAR_EVEN</a>&nbsp;&nbsp;&nbsp;0x10</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with parameter parity of structure serconfig.  <a href="#a12"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a13">PAR_NONE</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with parameter parity of structure serconfig.  <a href="#a13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a14">EM_MAX_READ</a>&nbsp;&nbsp;&nbsp;4096</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_read function.  <a href="#a14"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a15">EM_MAX_WRITE</a>&nbsp;&nbsp;&nbsp;4096</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_write function.  <a href="#a15"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a16">EMT_ACTIVE</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_change_state function.  <a href="#a16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a17">EMT_IDLING</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_change_state function.  <a href="#a17"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a18" doxytag="emul.h::VENDOR_ID_DELORME"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a18">VENDOR_ID_DELORME</a>&nbsp;&nbsp;&nbsp;0x1163</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The USB Vendor ID used to find the Earthmate device with libusb. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a19" doxytag="emul.h::PRODUCT_ID_EARTHMATEUSB"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a19">PRODUCT_ID_EARTHMATEUSB</a>&nbsp;&nbsp;&nbsp;0x0100</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The USB Product ID used to find the Earthmate device with libusb. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a20" doxytag="emul.h::PRODUCT_ID_EARTHMATELT20"></a>
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a20">PRODUCT_ID_EARTHMATELT20</a>&nbsp;&nbsp;&nbsp;0x0200</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The USB Product ID of the DeLorme Earthmate lt-20. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a21">MAX_READ_WRITE</a>&nbsp;&nbsp;&nbsp;30</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">For use with em_raw_read and em_raw_write.  <a href="#a21"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a22">em_devtype</a> (int type)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device type, either a normal tty or earthmate device.  <a href="#a22"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a23">em_isemate</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates whether or not device type is set to normal tty or earthmate device.  <a href="#a23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a24">em_isactive</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Indicates whether or not the device has been opened and thread is active.  <a href="#a24"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a25">em_open</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opens the earthmate device and starts thread.  <a href="#a25"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a26">em_close</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the earthmate device and stops thread.  <a href="#a26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a27">em_replug</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Causes reenumeration after device and thread have been stopped.  <a href="#a27"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a28">em_linecontrol</a> (u_int8_t lines)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the line state for the earthmate device.  <a href="#a28"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a29">em_serconfig_set</a> (struct <a class="el" href="structserconfig.html">serconfig</a> *sconfig)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for setting serial parameters using serconfig object.  <a href="#a29"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a30">em_serconfig_get</a> (struct <a class="el" href="structserconfig.html">serconfig</a> *sconfig)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for retrieving serial parameters using serconfig object.  <a href="#a30"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a31">em_read</a> (u_int8_t buffer[], int count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for retrieving read data from Earthmate device from read buffer.  <a href="#a31"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a32">em_write</a> (const u_int8_t *buffer, int count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for sending write data from the program to the write buffer.  <a href="#a32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a33">em_flush</a> (int queue_selector)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for clearing either the read, write, or both buffers.  <a href="#a33"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a34">em_read_data_avail</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that indicates how much data is available in the read buffer.  <a href="#a34"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a35">em_write_data_avail</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that indicates how much data is available in the write buffer.  <a href="#a35"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a36">em_datawait</a> (struct timeval *tv, int jumpout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that stops execution by sleeping either until data becomes available in the read buffer, or the timeout value expires. Behaves almost like select.  <a href="#a36"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a37">em_select</a> (int n, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that waits on select activity and/or read buffer data becoming available.  <a href="#a37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a38" doxytag="emul.h::em_writewait"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a38">em_writewait</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Counterpart to tcdrain. Sleeps until all data in write buffer has been written. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a39">em_debuglevel</a> (int mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that sets the debugging level of the emul library.  <a href="#a39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a40">em_change_state</a> (int state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that can change thread state to either ACTIVE or IDLE.  <a href="#a40"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a41">READ</a> (int fd, void *buf, size_t count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that can be placed wherever read() is used safely.  <a href="#a41"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">ssize_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a42">WRITE</a> (int fd, const void *buf, size_t count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that can be placed wherever write() is used safely.  <a href="#a42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a43">em_getbaudmask</a> (unsigned int rate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for retrieving integer baud rate from masked rate.  <a href="#a43"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a44">em_getbaudrate</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function for retriving current baudrate of connection with the Earthmate device.  <a href="#a44"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a45">em_raw_read</a> (u_int8_t buffer[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that reads directly from the Earthmate device. If the thread is active, this function should <em>never</em> be called as libusb will have you pulling your hair out.  <a href="#a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="emul_8h.html#a46">em_raw_write</a> (u_int8_t *buffer, int size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Function that writes directly to the Earthmate device. If the thread is active, this function should <em>never</em> be called as libusb will have you pulling your hair out.  <a href="#a46"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Header file for the emul library. 
<p>
Contains facilities for accessing the earthmate. 
<p>
Definition in file <a class="el" href="emul_8h-source.html">emul.h</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a10" doxytag="emul.h::CONTROL_DROP"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CONTROL_DROP&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_linecontrol function. 
<p>
When used in conjunction with <em>em_linecontrol</em>, this will drop both dtr and rts lines on the Earthmate device. This should be issued without bitmask. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00131">131</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="emul.h::CONTROL_DTR"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CONTROL_DTR&nbsp;&nbsp;&nbsp;0x20          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_linecontrol function. 
<p>
When used in conjunction with <em>em_linecontrol</em>, this will raise the dtr line on the Earthmate device. This can be bitmasked with <em>CONTROL_RTS</em> and <em>CONTROL_RESET</em>.<p>
FYI, DTR is an acronym for data terminal ready. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00110">110</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a9" doxytag="emul.h::CONTROL_RESET"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CONTROL_RESET&nbsp;&nbsp;&nbsp;0x08          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_linecontrol function. 
<p>
When used in conjunction with <em>em_linecontrol</em>, this will cause a device reset which has and as yet unknown affect on the Earthmate device. This can be bitmasked with <em>CONTROL_DTR</em> and <em>CONTROL_RTS</em>. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00125">125</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="emul.h::CONTROL_RTS"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define CONTROL_RTS&nbsp;&nbsp;&nbsp;0x10          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_linecontrol function. 
<p>
When used in conjunction with <em>em_linecontrol</em>, this will raise the rts line on the Earthmate device. This can be bitmasked with <em>CONTROL_DTR</em> and <em>CONTROL_RESET</em>.<p>
FYI, RTS is an acronym for request to send. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00118">118</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="emul.h::EM_MAX_READ"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EM_MAX_READ&nbsp;&nbsp;&nbsp;4096          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_read function. 
<p>
This is the max amount of data the read buffer can store. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00195">195</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="emul.h::EM_MAX_WRITE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EM_MAX_WRITE&nbsp;&nbsp;&nbsp;4096          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_write function. 
<p>
This is the max amount of data the write buffer can store. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00200">200</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="emul.h::EMATE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EMATE&nbsp;&nbsp;&nbsp;0x1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_devtype function. 
<p>
When used in conjunction with <em>em_devtype</em>, this will set the active device to an Earthmate device. DEPRECATED: see userspace_compat.h included with gpsd/emul 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00061">61</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="emul.h::EMT_ACTIVE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EMT_ACTIVE&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_change_state function. 
<p>
When used in conjunction with the <em>em_change_state</em> function, this will change the thread state to active. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00272">272</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a17" doxytag="emul.h::EMT_IDLING"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define EMT_IDLING&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_change_state function. 
<p>
When used in conjunction with the <em>em_change_state</em> function, the thread state will change to idle. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00278">278</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a21" doxytag="emul.h::MAX_READ_WRITE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define MAX_READ_WRITE&nbsp;&nbsp;&nbsp;30          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_raw_read and em_raw_write. 
<p>
This is the max amount of data that can be transmitted with <em>em_raw_read</em> and <em>em_raw_write</em>.<p>
The device can handle 32 bytes for the input/output reports, but 2 bytes are used for length, control line, uart status, etc. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00338">338</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="emul.h::NORMAL"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NORMAL&nbsp;&nbsp;&nbsp;0x0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with em_devtype function. 
<p>
When used in conjunction with <em>em_devtype</em>, this will set the active device to a normal tty device. DEPRECATED: see userspace_compat.h included with gpsd/emul 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00054">54</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="emul.h::PAR_EVEN"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PAR_EVEN&nbsp;&nbsp;&nbsp;0x10          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with parameter parity of structure serconfig. 
<p>
Indicates even parity. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00147">147</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a13" doxytag="emul.h::PAR_NONE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PAR_NONE&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with parameter parity of structure serconfig. 
<p>
Indicates no parity. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00152">152</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="emul.h::PAR_ODD"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PAR_ODD&nbsp;&nbsp;&nbsp;0x30          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
For use with parameter parity of structure serconfig. 
<p>
Indicates odd parity. 
<p>
Definition at line <a class="el" href="emul_8h-source.html#l00142">142</a> of file <a class="el" href="emul_8h-source.html">emul.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a40" doxytag="emul.h::em_change_state"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void em_change_state           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>state</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that can change thread state to either ACTIVE or IDLE. 
<p>
The function does not wait for the change to take place within the thread. 
<p>
Definition at line <a class="el" href="emul_8c-source.html#l00431">431</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a26" doxytag="emul.h::em_close"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void em_close           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Closes the earthmate device and stops thread. 
<p>
<em>em_close</em> should be called when the program has finished communicating with the device. 
<p>
Definition at line <a class="el" href="emul_8c-source.html#l00199">199</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a36" doxytag="emul.h::em_datawait"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_datawait           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct timeval *&nbsp;</td>
          <td class="mdname" nowrap> <em>tv</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>jumpout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that stops execution by sleeping either until data becomes available in the read buffer, or the timeout value expires. Behaves almost like select. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tv</em>&nbsp;</td><td>The timeout value in seconds and microseconds. Can be NULL for infinite block. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jumpout</em>&nbsp;</td><td>Can be used to skip over entirely the block on certain previous events like a select call. Not all that useful, see <em>em_select</em> below for a better way. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 1 if data becomes available in read buffer, or 0 if either timeout value has expired or <em>jumpout</em> has value of 1. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00619">619</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a39" doxytag="emul.h::em_debuglevel"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void em_debuglevel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that sets the debugging level of the emul library. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Debugging is by default 0, which means completely disabled. When enabled, data is printed to stdout or stderr depending on the situation. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00761">761</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a22" doxytag="emul.h::em_devtype"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void em_devtype           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>type</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the device type, either a normal tty or earthmate device. 
<p>
DEPRECATED: see userspace_compat.h included with gpsd/emul<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>The type of device (<em>NORMAL</em> or <em>EMATE</em>). </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00768">768</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a33" doxytag="emul.h::em_flush"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_flush           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>queue_selector</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for clearing either the read, write, or both buffers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queue_selector</em>&nbsp;</td><td>The type of flush to perform. Valid value for now is <em>TCIOFLUSH</em>. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00584">584</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a43" doxytag="emul.h::em_getbaudmask"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">unsigned int em_getbaudmask           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>rate</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for retrieving integer baud rate from masked rate. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rate</em>&nbsp;</td><td>The masked rate to lookup for the integer value. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the integer value of the given masked rate. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00802">802</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a44" doxytag="emul.h::em_getbaudrate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">long em_getbaudrate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for retriving current baudrate of connection with the Earthmate device. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the current baud rate in integer form, or &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00327">327</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a24" doxytag="emul.h::em_isactive"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_isactive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Indicates whether or not the device has been opened and thread is active. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 1 if device is open and thread is active, 0 otherwise. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00099">99</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a23" doxytag="emul.h::em_isemate"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_isemate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Indicates whether or not device type is set to normal tty or earthmate device. 
<p>
DEPRECATED: see userspace_compat.h included with gpsd/emul<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 1 if device type is <em>EMATE</em> or 0 if device type is <em>NORMAL</em>. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00773">773</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a28" doxytag="emul.h::em_linecontrol"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void em_linecontrol           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_int8_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>lines</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the line state for the earthmate device. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lines</em>&nbsp;</td><td>This parameter can be bit masked with <em>CONTROL_DTR</em>, <em>CONTROL_RTS</em>, and <em>CONTROL_RESET</em>. <em>CONTROL_DROP</em> should be issued by itself and never masked. <em>CONTROL_RESET</em> has an unknown affect. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00235">235</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a25" doxytag="emul.h::em_open"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_open           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Opens the earthmate device and starts thread. 
<p>
This must be the first function called before device can be accessed. Only a few functions can be called without opening the device first.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00104">104</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a45" doxytag="emul.h::em_raw_read"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_raw_read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_int8_t&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>buffer</em>[]          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that reads directly from the Earthmate device. If the thread is active, this function should <em>never</em> be called as libusb will have you pulling your hair out. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Always use the <em>MAX_READ_WRITE</em> define if you dare to use this function. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00335">335</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a46" doxytag="emul.h::em_raw_write"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_raw_write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_int8_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that writes directly to the Earthmate device. If the thread is active, this function should <em>never</em> be called as libusb will have you pulling your hair out. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>Always use the <em>MAX_READ_WRITE</em> define if you dare to use this function. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00385">385</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a31" doxytag="emul.h::em_read"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_read           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u_int8_t&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for retrieving read data from Earthmate device from read buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>An array of unsigned 8 bit elements pre-allocated before being passed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>The amount of data that the function should try to fill <em>buffer</em> with. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>This function is non-blocking. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns amount of data read. &gt;=0 on success, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00535">535</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a34" doxytag="emul.h::em_read_data_avail"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_read_data_avail           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that indicates how much data is available in the read buffer. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>This function is non-blocking. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>On success the amount of data in read buffer is returned, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00729">729</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a27" doxytag="emul.h::em_replug"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_replug           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Causes reenumeration after device and thread have been stopped. 
<p>
After a successful call, a new usb device handle will have been obtained and the thread will start again. The usual functions may be called once more.<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, -1 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00215">215</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a37" doxytag="emul.h::em_select"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_select           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fd_set *&nbsp;</td>
          <td class="mdname" nowrap> <em>readfds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fd_set *&nbsp;</td>
          <td class="mdname" nowrap> <em>writefds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>fd_set *&nbsp;</td>
          <td class="mdname" nowrap> <em>exceptfds</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>struct timeval *&nbsp;</td>
          <td class="mdname" nowrap> <em>timeout</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that waits on select activity and/or read buffer data becoming available. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>The number of fds to watch (always +1). Typically, FD_SETSIZE is passed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readfds</em>&nbsp;</td><td>The fd_set to watch for read activity. Can be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>writefds</em>&nbsp;</td><td>The fd_set to watch for write activity. Can be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>exceptfds</em>&nbsp;</td><td>The fd_set to watch for exceptional activity, like errors. Can be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>The time in seconds and microseconds to wait. Can be NULL. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>The function does not return on data becoming available in the write buffer. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns the number of fds with activity. This can include read buffer activity as well. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00659">659</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a30" doxytag="emul.h::em_serconfig_get"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_serconfig_get           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structserconfig.html">serconfig</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sconfig</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for retrieving serial parameters using serconfig object. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00290">290</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a29" doxytag="emul.h::em_serconfig_set"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_serconfig_set           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structserconfig.html">serconfig</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sconfig</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for setting serial parameters using serconfig object. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sconfig</em>&nbsp;</td><td>Object of <em>serconfig</em> which holds serial parameters to be set. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>The <em>serconfig</em> object being passed must have all fields set. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns 0 on success, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00251">251</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a32" doxytag="emul.h::em_write"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_write           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const u_int8_t *&nbsp;</td>
          <td class="mdname" nowrap> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function for sending write data from the program to the write buffer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Pointer to the data that is to be transfered into the write buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>The amount of data to try and write to the write buffer. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>This function is non-blocking. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns amount of data written. &gt;=0 on success, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00562">562</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a35" doxytag="emul.h::em_write_data_avail"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int em_write_data_avail           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that indicates how much data is available in the write buffer. 
<p>
<dl compact><dt><b>Note:</b></dt><dd>This function is non-blocking. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>On success the amount of data in write buffer is returned, &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00745">745</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a41" doxytag="emul.h::READ"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t READ           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that can be placed wherever read() is used safely. 
<p>
DEPRECATED: see userspace_compat.h included with gpsd/emul<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor to read from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer to read into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Amount of data to try and read. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Note:</b></dt><dd>Also have a look at <em><a class="el" href="emul_8h.html#a31">em_read()</a></em>. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns amount of data read, or &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00778">778</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a42" doxytag="emul.h::WRITE"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ssize_t WRITE           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>const void *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>size_t&nbsp;</td>
          <td class="mdname" nowrap> <em>count</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Function that can be placed wherever write() is used safely. 
<p>
DEPRECATED: see userspace_compat.h included with gpsd/emul<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor to write to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>Buffer data to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Amount of data to try and write. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Returns amount of data written, or &lt;0 on error. </dd></dl>

<p>
Definition at line <a class="el" href="emul_8c-source.html#l00790">790</a> of file <a class="el" href="emul_8c-source.html">emul.c</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jul 4 07:37:42 2005 for emul by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
